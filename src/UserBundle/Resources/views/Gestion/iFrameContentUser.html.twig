<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="{{ asset('css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ asset('css/SuperUser.css') }}" />
    <link rel="stylesheet" href="{{ asset('css/ajout.css') }}" />
    <link rel="stylesheet" href="{{ asset('css/PopUp.css') }}" />
    {% block CSS %}{% endblock %}

    <title>HUB3E - {% block title %}Home{% endblock %}</title>

</head>
<body onload="loading()" >

<div class="container" style="padding: 0;">
    {% block Content %}
        {% if User.hasRole('ROLE_APPRENANT') %}
            <div id="Hobby" style="display: none;" >
                <input type="hidden" id="inputHobbie" >

                <label class="champ form-control" style="width: 150px;" for="hobbie"></label>

                <img   onclick="supprimerHobbie(this.parentNode)" src="{{ asset('image/imgSupprimer.png') }}"/><br>


            </div>

            <div id="DivNewLangue" style="display: none;" >
                <input type="hidden" id="inputLangue" >
                <input type="hidden" id="inputNiveau" >
                <label class="champ form-control" style="width: 150px;" for="langue"></label>
                <label class="champ form-control"  for="Niveau"></label>
                <img   onclick="supprimerLangue(this.parentNode)" src="{{ asset('image/imgSupprimer.png') }}"/><br>


            </div>


            <div id="addparent" class="popup" >
                <div onclick="document.getElementById('submitaddparent').click();hide(this)" class="close" ></div>
                <div class="col-xs-offset-1 col-xs-7" style="padding:0; border:20px solid white;display: block ;margin-top: 20px ">
                    <button style="width: 40px;height: 40px;float:right;" type="button" onclick="this.parentElement.previousElementSibling.click();">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true" ></span></button>
                    <form id="formaddparent" class="formulaire" action="{{ path("parent_added") }}" onsubmit="document.getElementById('submitaddparent').disabled=true;ShowWaiter();" enctype="multipart/form-data" method="post" >
                        <input type="hidden" id="id" name="_idUser" value="{{ User.getId }}">

                        <Label   style="background-color: #2975cb;color:white;width:300px;height:40px;font:20px Roboto normal">Responsable légal</Label>
                        <div class="div_form" style="">

                            <div class="col-xs-10 input-colonne">
                                <label id="startTimeLabel" visible="false"></label>
                            </div>

                            <div class="col-xs-3 input-colonne">
                                <input placeholder="Nom" class="input" type="text" id="Nomparent" name="_Nomparent" maxlength="45" required >
                                <select class="input "  title="" name="_Civiliteparent">
                                    <option value="Monsieur">Mr.</option>
                                    <option value="Madame">Mme.</option>
                                </select>

                            </div>
                            <div class="col-xs-3 input-colonne">
                                <input placeholder="Prenom" class="input" type="text" id="Prenomparent" name="_Prenomparent" maxlength="45" required >
                                <select class="input" title="Statut" name="_Metierparent">
                                    <option value="Père">Père.</option>
                                    <option value="Mère">Mère.</option>
                                    <option value="Tuteur légal">Tuteur légal.</option>
                                    <option value="Autre">Autre.</option>
                                </select>
                            </div>

                            <div class="col-xs-6 input-colonne">
                                <input placeholder="Adresse email" class="input" type="text" id="Emailparent" name="_Emailparent" maxlength="45" required >
                                <input placeholder="Adresse postale" class="input" type="text" id="Adresseparent" name="_Adresseparent" maxlength="45" required >
                            </div>

                            <div class="col-xs-3 input-colonne">
                                <input placeholder="Profession" class="input" type="text" id="Professionparent" name="_Professionparent" maxlength="45" required >
                            </div>

                            <div class="col-xs-3 input-colonne">
                                <input placeholder="Téléphone " class="input" type="text" id="Telephoneparent" name="_Telephoneparent" maxlength="45" required >
                            </div>
                            <div class="col-xs-3 input-colonne">
                                <input placeholder="Ville" class="input" type="text" id="Villeparent" name="_Villeparent" maxlength="45" required >
                            </div>

                            <div class="col-xs-3 input-colonne">
                                <input placeholder="Code postale" class="input" type="text" id="CodePostaleparent" name="_CodePostaleparent" maxlength="45" required >
                            </div>


                        </div>


                        <div class="div_button" style="background-color: white">

                            <input class="blue" onclick="showFermer()" style="float: left" name="submitApprenant" type="button" value="Annuler">
                            <input class="blue" id="submitaddparent" type="submit" style="margin-left: 550px"  value="Enregistrer" >

                        </div>



                    </form>

                </div>
            </div>

            <div id="addExperience" class="popup">
                <div onclick="document.getElementById('submitaddExperience').click();hide(this)" class="close"></div>
                <div class="col-xs-offset-1 col-xs-7" style="padding:0; border:20px solid white;display:block;margin-top: 20px">
                    <button style="width: 40px;height: 40px;float:right;" type="button" onclick="this.parentElement.previousElementSibling.click();">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true" ></span></button>
                    <form id="formaddExperience" class="formulaire" action="{{ path("experience_added") }}" onsubmit="document.getElementById('submitaddExperience').disabled=true;ShowWaiter();"  method="post" enctype="multipart/form-data">
                        <input type="hidden" id="id" name="_idUser" value="{{ User.getId }}">

                        <Label   style="background-color: #2975cb;color:white;width:300px;height:40px;font:20px Roboto normal">Expérience de l'apprenant</Label>
                        <div class="div_form" style="">
                            <div class="col-xs-10 input-colonne">
                                <label id="startTimeLabel" visible="false"></label>
                            </div>
                            <div class="col-xs-6 input-colonne">
                                <div class="col-xs-6 input-colonne">
                                    <input placeholder="Nom Société" class="input" type="text" id="Nomsociete" name="_Nomsociete" maxlength="45" required >
                                    <input placeholder="Type(ex :stage,emploi,voyage…)" class="input" type="text" id="Activite" name="_Activite" maxlength="45" required >

                                </div>
                                <div class="col-xs-6 input-colonne" style="border-right: 0">
                                    <input placeholder="Lieu(ville, pays)" class="input" type="text" id="Lieu" name="_Lieu" maxlength="45" required >
                                    <input placeholder="Poste" class="input"  type="text" id="Poste" name="_Poste" maxlength="45" required >
                                </div>
                                <div class="col-xs-6 input-colonne" style="border-right: 0">
                                    <label style="float: left">A partir de :</label><input type="date" data-date='{"buttonOnly": true,	"calculateWidth": true}' class="date" id="Datedebut" name="_Datedebut" title="Datedebut" required >
                                </div>
                                <div class="col-xs-6 input-colonne" style="border-right: 0">
                                    <label style="float: left">à :</label><input  type="date" data-date='{"buttonOnly": true, "calculateWidth": true}' class="date" id="Datefin" name="_Datefin" title="Datefin" required>
                                </div>
                                <input placeholder="Nombre d'années" class="input" type="number" id="Nbreannee" name="_Nbreannee" maxlength="11" required >
                            </div>


                            <div class="col-xs-6 input-colonne " style="height:150px">
                                <textarea placeholder="Description" class="input" type="text" id="Descriptionexp" name="_Descriptionexp"  required style="resize:none;height:calc( 100% - 13px)"></textarea>

                            </div>

                        </div>
                        <div class="div_button" style="background-color: white">

                            <input class="blue" onclick="showFermer()" style="float: left" name="submitApprenant" type="button" value="Annuler">
                            <input class="blue" id="submitaddExperience" type="submit" style="margin-left: 550px"  value="Enregistrer" >

                        </div>

                    </form>
                </div>
            </div>

            <div id="addRecommandation" class="popup">
                <div onclick="document.getElementById('submitaddRecommandation').click();hide(this)" class="close"></div>
                <div class="col-xs-offset-1 col-xs-7" style="padding:0; border:20px solid white;display:block;margin-top: 20px">
                    <button style="width: 40px;height: 40px;float:right;" type="button" onclick="this.parentElement.previousElementSibling.click();">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true" ></span></button>
                    <form id="formaddRecommandation" class="formulaire" action="{{ path("recommandation_added") }}" onsubmit="document.getElementById('submitaddRecommandation').disabled=true;ShowWaiter();" method="post" enctype="multipart/form-data">

                        <input type="hidden" id="id" name="_idUser" value="{{ User.getId }}">

                        <Label   style="background-color: #2975cb;color:white;width:300px;height:40px;font:20px Roboto normal">Recommandation</Label>
                        <div class="div_form" style="">

                            <div class="col-xs-6 input-colonne">
                                <div class="col-xs-6 input-colonne">
                                    <input placeholder="Nom" class="input" type="text" id="Nom" name="_Nomrec" maxlength="45" required >
                                    <input placeholder="Fonction" class="input" type="text" id="Fonctionrec" name="_Fonctionrec" maxlength="45" required >

                                </div>
                                <div class="col-xs-6 input-colonne" style="border-right: 0">
                                    <input placeholder="Prenom" class="input" type="text" id="Prenom" name="_Prenomrec" maxlength="45" required >
                                    <input placeholder="Téléphone fixe" class="input"  type="text" id="Telephonerec" name="_Telephonerec" maxlength="45" required >
                                </div>
                                <input placeholder="Adresse email" class="input" type="text" id="Emailrec" name="_Emailrec" maxlength="45" required >
                            </div>


                            <div class="col-xs-6 input-colonne " style="height:150px">
                                <textarea placeholder="Recommandation écrite" class="input" type="text" id="Text" name="_Text"  style="resize:none;height:calc( 100% - 13px)"></textarea>
                            </div>
                        </div>

                        <div class="div_button" style="background-color: white">

                            <input class="blue"  style="float: left" onclick="showFermer()" name="submitApprenant" type="button" value="Annuler">
                            <input class="blue" id="submitaddRecommandation" type="submit" style="margin-left: 550px"  value="Enregistrer" >

                        </div>


                    </form>
                </div>
            </div>

            <div id="addDiplome" class="popup">
                <div onclick="document.getElementById('submitaddDiplome').click();hide(this)" class="close"></div>
                <div class="col-xs-offset-1 col-xs-7" style="padding:0; border:20px solid white;display:block;margin-top: 20px">
                    <button style="width: 40px;height: 40px;float:right;" type="button" onclick="this.parentElement.previousElementSibling.click();">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true" ></span></button>
                    <form id="formaddDiplome" class="formulaire" action="{{ path("diplome_added") }}" onsubmit="document.getElementById('submitaddDiplome').disabled=true;ShowWaiter();" method="post" enctype="multipart/form-data">

                        <input type="hidden" id="id" name="_idUser" value="{{ User.getId }}">

                        <Label   style="background-color: #2975cb;color:white;width:300px;height:40px;font:20px Roboto normal">Diplome</Label>
                        <div class="div_form" style="">


                            <div class="col-xs-12 input-colonne">
                                <input placeholder="Libelle" class="input" type="text" id="Libelle" name="_Libelle" maxlength="45" required >

                            </div>

                            <div class="col-xs-12 input-colonne" >
                                <input placeholder="Obtention" class="input" type="text" id="Obtention" name="_Obtention" maxlength="45" required >
                            </div>

                            <div class="col-xs-12 input-colonne" >

                                <input placeholder="école" class="input"  type="text" id="Ecole" name="_Ecole" maxlength="45" required >
                            </div>

                        </div>

                        <div class="div_button" style="background-color: white">

                            <input class="blue" onclick="showFermer()"  style="float: left" name="submitApprenant" type="button" value="Annuler">
                            <input class="blue" id="submitaddDiplome" type="submit" style="margin-left: 550px"  value="Enregistrer" >

                        </div>


                    </form>
                </div>
            </div>

            <div id="addDocument" class="popup">
                <div onclick="document.getElementById('submitaddDocument').click();hide(this)" class="close"></div>
                <div class="col-xs-offset-1 col-xs-7" style="padding:0; border:20px solid white;display:block;margin-top: 20px">
                    <button style="width: 40px;height: 40px;float:right;" type="button" onclick="this.parentElement.previousElementSibling.click();">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true" ></span></button>
                    <form id="formaddDocument" class="formulaire" action="{{ path("Document_added") }}" onsubmit="document.getElementById('submitaddDocument').disabled=true;ShowWaiter();" method="post" enctype="multipart/form-data">

                        <input type="hidden" id="id" name="_idUser" value="{{ User.getId }}">

                        <Label   style="background-color: #2975cb;color:white;width:300px;height:40px;font:20px Roboto normal">Document</Label>
                        <div class="div_form" style="">


                            <div class="col-xs-12 input-colonne">

                                <select class="input "  title=""  name="_Type">
                                    <option value="lettre de motivation" >lettre de motivation</option>
                                    <option value="cv" >Cv</option>
                                    <option value="Autre" >Autre</option>
                                </select>
                            </div>
                            <input type="file" class="input" id="document" name="_Document" size="800000" required>

                        </div>

                        <div class="div_button" style="background-color: white">

                            <input class="blue" onclick="showFermer()" style="float: left" name="submitApprenant" type="button" value="Annuler">
                            <input class="blue" id="submitaddDocument" type="submit" style="margin-left: 550px"  value="Enregistrer" >

                        </div>


                    </form>
                </div>
            </div>

            <div id="addFormation" class="popup">
                <div onclick="document.getElementById('submitaddFormation').click();hide(this)" class="close"></div>
                <div class="col-xs-offset-1 col-xs-7" style="padding:0; border:20px solid white;display:block;margin-top: 20px">
                    <button style="width: 40px;height: 40px;float:right;" type="button" onclick="this.parentElement.previousElementSibling.click();">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true" ></span></button>

                    <form id="formaddFormation" class="formulaire" action="{{ path("Candidature_added") }}" onsubmit="document.getElementById('submitaddFormation').disabled=true;ShowWaiter();" method="post" >

                        <input type="hidden" id="id" name="_idUser" value="{{ User.getId }}">

                        <Label   style="background-color: #2975cb;color:white;width:300px;height:40px;font:20px Roboto normal;"> Formation </Label>
                        <div class="div_form">

                            <input class="input" style="margin-bottom: 10px;" type="text" placeholder="Recherche" onkeyup="rechercheformation(this.value)">
                            <div class="col-xs-12" >
                                <select id="SelectMultipleFormation" style="height: 100px;" title="" class="input" name="formations[]" multiple >
                                    {% for formation in formations %}
                                        <option value="{{ formation.id }}">{{ formation.nom }} - {{ formation.etablissement.tier.raisonsoc }} - {{ formation.etablissement.adresse }}</option>
                                    {% endfor %}
                                </select>
                                <select id="SelectMultipleRechercheFormation" style="display: none">
                                    {% for formation in formations %}
                                        <option value="Recherche" style="display: none;" disabled>{{ formation.id }};{{ formation.nom }};{{ formation.etablissement.tier.raisonsoc }};{{ formation.etablissement.adresse }};{{ formation.etablissement.siret }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                        </div>

                        <div class="div_button" style="background-color: white">

                            <input class="blue" onclick="showFermer()" style="float: left" name="submitApprenant" type="button" value="Annuler">
                            <input class="blue" id="submitaddFormation" type="submit" style="margin-left: 550px"  value="Enregistrer" >

                        </div>


                    </form>
                </div>
            </div>
        {% endif %}
        <div class="row" style="background-color:  rgb(238, 241, 246);margin: 0;overflow-y: auto;height: 100%">

            <div class="col-xs-9" style="background: rgb(238, 241, 246); height: 100%;">
                <!-- **********************************tache des apprenants************************** -->
                <div class="col-xs-12" style="height: 46px;">
                    <div style="height: 35px; width: 100%; padding: 15px 0 0 15px;display: flex;">

                        {% if User.hasRole('ROLE_APPRENANT') %}

                            <!--button id="Button_donnees" class="NavButtonInactive" title="Données Utilisateur" onclick="show_Information('info_user','Button_donnees')" type="button">Données Utilisateur</button>-->
                            {% if not User.getCivilite or not User.getNom or not User.getPrenom or not User.getPhotos or not User.getTelephone or not User.getUserName or not User.getEmail or not User.getInfo.getDatenaissance|date('Y-m-d') or not User.getInfo.getCpnaissance or not User.getInfo.getLieunaissance or not User.getInfo.getAdresse or not User.getInfo.getFacebook or not User.getInfo.getLinkedin or not User.getInfo.getMobilite or not User.getInfo.getFratrie   %}
                                <button id="Button_Apprenant" style="background-color: red ;" class="NavButtonIframe" title="Details de l'Apprenant" onclick="NaviguerOnglet('OngletApprenant','info_Apprenant',this);" type="button">Données Utilisateur</button>
                            {% else %}
                                <button id="Button_Apprenant" class="NavButtonIframe" title="Details de l'Apprenant" onclick="NaviguerOnglet('OngletApprenant','info_Apprenant',this);" type="button">Données Utilisateur</button>
                            {% endif %}
                            {% if not candidatures is defined or candidatures|length == 0 %}
                                <button id="Button_candidature" style="background-color: red ;" class="NavButtonIframe" title="Formation de l'Apprenant" onclick="NaviguerOnglet('OngletApprenant','info_candidature',this);" >Formation de l'Apprenant </button>
                            {% else %}
                                <button id="Button_candidature" class="NavButtonIframe" title="Formation de l'Apprenant" onclick="NaviguerOnglet('OngletApprenant','info_candidature',this);" >Formation de l'Apprenant </button>
                            {% endif %}
                            {% if not  Parents is defined or Parents|length == 0 %}
                                <button id="Button_parents" style="background-color: red;" class="NavButtonIframe" title="Responsables" onclick="NaviguerOnglet('OngletApprenant','info_parents',this);" >Responsables </button>
                            {% else %}
                                <button id="Button_parents" class="NavButtonIframe" title="Responsables" onclick="NaviguerOnglet('OngletApprenant','info_parents',this);" >Responsables </button>
                            {% endif %}
                            {% if not Experience is defined or Experience|length == 0 %}
                                <button id="Button_Exp" style="background-color: red ;" class="NavButtonIframe" title="Expériences" onclick="NaviguerOnglet('OngletApprenant','info_Exp',this);" >Expériences </button>
                            {% else %}
                                <button id="Button_Exp" class="NavButtonIframe" title="Expériences" onclick="NaviguerOnglet('OngletApprenant','info_Exp',this);" >Expériences </button>
                            {% endif %}
                            {% if not Recommandation is defined or Recommandation|length == 0 %}
                                <button id="Button_recom" style="background-color: red ;" class="NavButtonIframe" title="Recommandations" onclick="NaviguerOnglet('OngletApprenant','info_recom',this);" >Recommandations </button>
                            {% else %}
                                <button id="Button_recom" class="NavButtonIframe" title="Recommandations" onclick="NaviguerOnglet('OngletApprenant','info_recom',this);" >Recommandations </button>
                            {% endif %}
                            {% if not Diplome is defined or Diplome|length == 0 %}
                                <button id="Button_diplome" style="background-color: red ;" class="NavButtonIframe" title="Diplomes" onclick="NaviguerOnglet('OngletApprenant','info_diplome',this);">Diplomes </button>
                            {% else %}
                                <button id="Button_diplome" class="NavButtonIframe" title="Diplomes" onclick="NaviguerOnglet('OngletApprenant','info_diplome',this);">Diplomes </button>
                            {% endif %}
                            {% if not Document is defined or Document|length == 0 %}
                                <button id="Button_doc" style="background-color: red;" class="NavButtonIframe" title="Documents" onclick="NaviguerOnglet('OngletApprenant','info_doc',this);">Documents </button>
                            {% else %}
                                <button id="Button_doc" class="NavButtonIframe" title="Documents" onclick="NaviguerOnglet('OngletApprenant','info_doc',this);">Documents </button>
                            {% endif %}
                            {% if not QCMs is defined or QCMs|length == 0 %}
                                <button id="Button_Affinite" style="background-color: red ;"  class="NavButtonIframe" title="QCM Affinite" onclick="NaviguerOnglet('OngletApprenant','QCM_Affinite',this);">QCM Affinite </button>
                            {% else %}
                                <button id="Button_Affinite" class="NavButtonIframe" title="QCM Affinite" onclick="NaviguerOnglet('OngletApprenant','QCM_Affinite',this);">QCM Affinite </button>
                            {% endif %}
                            {% if not QCMtest is defined or QCMtest|length == 0  %}
                                <button id="Button_Test" style="background-color: red ;"  class="NavButtonIframe" title="QCM Test" onclick="NaviguerOnglet('OngletApprenant','QCM_Test',this);">QCM Test </button>
                            {% else %}
                                <button id="Button_Test" class="NavButtonIframe" title="QCM Test" onclick="NaviguerOnglet('OngletApprenant','QCM_Test',this);">QCM Test </button>
                            {% endif %}

                            <!--select title="" id="select_info"  style="color:white;">
                               <option value="info_user" style="color:black;">Données Utilisateur</option>
                               <option value="info_Apprenant" style="color:black;">Details de l'Apprenant</option>
                               <option value="info_candidature" style="color:black;">Formation de l'Apprenant </option>
                               <option value="info_parents" style="color:black;">Responsables </option>
                               <option value="info_Exp" style="color:black;">Expériences </option>
                               <option value="info_recom" style="color:black;">Recommandations </option>
                               <option value="info_diplome" style="color:black;">Diplomes </option>
                               <option value="info_doc" style="color:black;">Documents </option>
                               <option value="QCM_Affinite" style="color:black;">QCM Affinite </option>
                               <option value="QCM_Test" style="color:black;">QCM Test </option>
                           </select>-->

                        {% else  %}
                            <Label  value="info_user" style="font:20px Roboto;width: 100%; height: 40px;line-height: 40px;border-radius: 0; background: #1C5AA5; border: 0; color: white;text-align:left;">Données Utilisateur</Label>
                        {% endif %}
                    </div>
                </div>

                <div id="OngletApprenant" class="col-xs-12" style="margin-bottom: 50px">

                    {% if not User.hasRole('ROLE_APPRENANT') %}
                        <div id="info_user" class="list-group affichage">
                            <form class="formulaire" id="formUser" action="{{ path('userModif') }}" onsubmit="ShowWaiter();" method="post" enctype="multipart/form-data">
                                <input type="hidden" value="{{ User.getId }}" id="id" name="_ID">

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="civilite">Civilité :</label>

                                    <select   class="List-invisible" width="50px" title="" id="civilite"  name="_Civilite">
                                        {% if User.getCivilite == 'Mr' %}
                                            <option selected="selected" value="Mr">Mr.</option>
                                        {% else %}
                                            <option value="Mr">Mr.</option>
                                        {% endif %}

                                        {% if User.getCivilite == 'Mme' %}
                                            <option selected="selected" value="Mme">Mme.</option>
                                        {% else %}
                                            <option value="Mme">Mme.</option>
                                        {% endif %}

                                        {% if User.getCivilite == 'Mlle' %}
                                            <option selected="selected" value="Mlle">Mlle.</option>
                                        {% else %}
                                            <option value="Mlle">Mlle.</option>
                                        {% endif %}
                                    </select>
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Nom">Nom :</label>
                                    <input value="{{User.getNom}}" type="text" class="champ form-control" id="Nom" name="_Nom" maxlength="45"  >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Prenom">Prénom :</label>
                                    <input value="{{User.getPrenom}}" type="text" class="champ form-control" id="Prenom" name="_Prenom" maxlength="45">
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 40px;" for="Photos">Photo :
                                        {% if User.getPhotos %}
                                            <img id="Photosimg" alt="Photos" style="height:40px" src="data:image/jpg;base64,{{ User.getPhotos }}">
                                        {% elseif User.getCivilite == 'Mme' or User.getCivilite == 'Madame' or User.getCivilite == 'Mademoiselle' %}
                                            <img id="Photosimg" alt="Photos" style="height:40px" src="{{ asset('image/femme.jpg') }}">
                                        {% else %}
                                            <img id="Photosimg" alt="Photos" style="height:40px" src="{{ asset('image/homme.jpg') }}">
                                        {% endif %}
                                    </label>
                                    <input onchange="readURL(this,'Photosimg');" accept="image/*" type="file" class="champ form-control" id="Photos" name="_Photos" style="display: none !important;">


                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Tel">Téléphone :</label>
                                    <input value="{{User.getTelephone}}" type="text" class="champ form-control" id="Telephone" name="_Tel" maxlength="45" >
                                </div>


                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="UserName">UserName :</label>
                                    <input value="{{User.getUserName}}" type="text" class="champ form-control" id="UserName" name="_Username" maxlength="255" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Mail">E-mail :</label>
                                    <input value="{{User.getEmail}}" type="text" class="champ form-control" id="Mail" name="_Mail" maxlength="255" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" >Dernière connexion :</label><label style="color:black" >{{User.getLastLogin|date('d/m/Y')}}</label>

                                </div>
                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" >Expiré le : </label>
                                    <label style="color:black" >

                                        {% if User.getExpiredAt is null %}
                                            &nbsp;
                                        {% else %}
                                            {{ User.getExpiredAt|date('d/m/Y H:i') }}
                                        {% endif %}


                                    </label>


                                </div>
                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;">Roles :
                                        {% for role in User.getRoles %}
                                            {% if role == "ROLE_APPRENANT" %}
                                                <label style="color:black">APPRENANT</label>
                                            {% elseif role == "ROLE_ADMINECOLE" %}
                                                <label style="color:black">Administrateur école</label>
                                            {% elseif role == "ROLE_ADMINSOC" %}
                                                <label style="color:black">Administrateur Société</label>
                                            {% elseif role == "ROLE_TUTEUR" %}
                                                <label style="color:black">Tuteur</label>
                                            {% elseif role == "ROLE_RECRUTEUR" %}
                                                <label style="color:black">Recruteur Placeur</label>
                                            {% elseif role == "ROLE_SUPER_ADMIN" %}
                                                <label style="color:black">Super Administrateur</label>
                                            {% endif %}
                                        {% endfor %}
                                    </label>


                                </div>
                                <div class="inputcontainer">
                                    {% if User.getEtablissement %}
                                        {% if User.getEtablissement.getTier.getEcole == 0 %}
                                            <label class="list-group-item info" >Société  : <label style="color:black" >{{User.getEtablissement.getTier.getRaisonSoc}}</label></label>

                                        {% elseif User.getEtablissement.getTier.getEcole == 1 %}
                                            <label class="list-group-item info" >Ecole  : <label style="color:black" >{{User.getEtablissement.getTier.getRaisonSoc}}</label></label>
                                        {% endif %}
                                    {% endif %}
                                </div>
                                <input id="formUserSubmit" type="submit" style="display: none;">
                            </form>
                        </div>
                    {% else %}
                        <div id="info_Apprenant" class="list-group affichage">
                            <form class="formulaire" id="formUser" action="{{ path('userModif') }}" onsubmit="ShowWaiter();" method="post" enctype="multipart/form-data">
                                <input type="hidden" value="{{ User.getId }}" id="id" name="_ID">

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="civilite">Civilité :</label>

                                    <select   class="List-invisible" width="50px" title="" id="civilite"  name="_Civilite" >
                                        {% if User.getCivilite == 'Mr' %}
                                            <option selected="selected" value="Mr">Mr.</option>
                                        {% else %}
                                            <option value="Mr">Mr.</option>
                                        {% endif %}

                                        {% if User.getCivilite == 'Mme' %}
                                            <option selected="selected" value="Mme">Mme.</option>
                                        {% else %}
                                            <option value="Mme">Mme.</option>
                                        {% endif %}

                                        {% if User.getCivilite == 'Mlle' %}
                                            <option selected="selected" value="Mlle">Mlle.</option>
                                        {% else %}
                                            <option value="Mlle">Mlle.</option>
                                        {% endif %}
                                    </select>
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Nom">Nom :</label>
                                    <input value="{{User.getNom}}" type="text" class="champ form-control" id="Nom" name="_Nom" maxlength="45" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Prenom">Prénom :</label>
                                    <input value="{{User.getPrenom}}" type="text" class="champ form-control" id="Prenom" name="_Prenom" maxlength="45" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 40px;" for="Photos">Photo :
                                        {% if User.getPhotos %}
                                            <img id="Photosimg" alt="Photos" style="height:40px" src="data:image/jpg;base64,{{ User.getPhotos }}">
                                        {% elseif User.getCivilite == 'Mme' or User.getCivilite == 'Madame' or User.getCivilite == 'Mademoiselle' %}
                                            <img id="Photosimg" alt="Photos" style="height:40px" src="{{ asset('image/femme.jpg') }}">
                                        {% else %}
                                            <img id="Photosimg" alt="Photos" style="height:40px" src="{{ asset('image/homme.jpg') }}">
                                        {% endif %}
                                    </label>
                                    <input onchange="readURL(this,'Photosimg');" accept="image/*" type="file" class="champ form-control" id="Photos" name="_Photos" style="display: none !important;" >
                                    <label>ajouter une photo /cliquez ici</label>

                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Tel">Téléphone :</label>
                                    <input value="{{User.getTelephone}}" type="text" class="champ form-control"id="Telephone" name="_Tel" maxlength="45" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Tel">Téléphone portable :</label>
                                    <input value="{{User.getInfo.getPortable}}" type="text" class="champ form-control"id="Portable" name="_Portable" maxlength="45" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Adresse">Adresse       : </label>
                                    <input value="{{User.getInfo.getAdresse}}" type="text" class="champ form-control" id="Adresse" name="_Adresse" maxlength="45" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Tel">Code postal :</label>
                                    <input value="{{User.getInfo.getCp}}" type="text" class="champ form-control"id="Codepostal" name="_Codepostal" maxlength="45" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="UserName">UserName :</label>
                                    <input value="{{User.getUserName}}" type="text" class="champ form-control" id="UserName" name="_Username" maxlength="255" >
                                </div>
                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Lieunaissance">Lieu naissance:</label>
                                    <input value="{{User.getInfo.getLieunaissance}}" type="text" class="champ form-control" id="Lieunaissance" name="_Lieunaissance" maxlength="45" required >
                                </div>
                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Datenaissance">Date naissance :</label>

                                    <input value="{{User.getInfo.getDatenaissance|date('Y-m-d') }}" type="date" class="champ form-control" id="Datenaissance" name="_Datenaissance" maxlength="45" required >
                                </div>
                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Cpnaissance">Cp naissance  :</label>
                                    <input value="{{User.getInfo.getCpnaissance}}" type="text" class="champ form-control" id="Cpnaissance" name="_Cpnaissance" maxlength="45" required >

                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" for="Mail">E-mail :</label>
                                    <input value="{{User.getEmail}}" type="text" class="champ form-control" id="Mail" name="_Mail" maxlength="255" >
                                </div>

                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" >Dernière connexion :</label><label style="color:black" >{{User.getLastLogin|date('d/m/Y')}}</label>

                                </div>
                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;" >Expiré le : </label>
                                    <label style="color:black" >

                                        {% if User.getExpiredAt is null %}
                                            &nbsp;
                                        {% else %}
                                            {{ User.getExpiredAt|date('d/m/Y H:i') }}
                                        {% endif %}


                                    </label>


                                </div>
                                <div class="inputcontainer">
                                    <label class="list-group-item" style="height: 60px;">Roles :
                                        {% for role in User.getRoles %}
                                            {% if role == "ROLE_APPRENANT" %}
                                                <label style="color:black">APPRENANT</label>
                                            {% elseif role == "ROLE_ADMINECOLE" %}
                                                <label style="color:black">Administrateur école</label>
                                            {% elseif role == "ROLE_ADMINSOC" %}
                                                <label style="color:black">Administrateur Société</label>
                                            {% elseif role == "ROLE_TUTEUR" %}
                                                <label style="color:black">Tuteur</label>
                                            {% elseif role == "ROLE_RECRUTEUR" %}
                                                <label style="color:black">Recruteur Placeur</label>
                                            {% elseif role == "ROLE_SUPER_ADMIN" %}
                                                <label style="color:black">Super Administrateur</label>
                                            {% endif %}
                                        {% endfor %}
                                    </label>


                                </div>
                                <div class="inputcontainer">
                                    {% if User.getEtablissement %}
                                        {% if User.getEtablissement.getTier.getEcole == 0 %}
                                            <label class="list-group-item info" >Société  : <label style="color:black" >{{User.getEtablissement.getTier.getRaisonSoc}}</label></label>

                                        {% elseif User.getEtablissement.getTier.getEcole == 1 %}
                                            <label class="list-group-item info" >Ecole  : <label style="color:black" >{{User.getEtablissement.getTier.getRaisonSoc}}</label></label>
                                        {% endif %}
                                    {% endif %}
                                </div>
                                <input id="formUserSubmit" type="submit" style="display: none;">

                                {% if User.GetInfo  %}
                                    <input type="hidden" value="{{ User.GetInfo.getId }}" id="id" name="_IdInfo">
                                    <div class="inputcontainer">

                                        {% if User.getInfo.getHandicape  %}
                                            <input value="1"  type="checkbox" id="handicap" checked name="_handicap" ><label>HANDICAP</label>
                                        {% else %}
                                            <input value="0"  type="checkbox" id="handicap" name="_handicap" ><label>HANDICAP</label>
                                        {% endif %}

                                        {% if User.getInfo.getEntrepreneur  %}
                                            <input value="1" type="checkbox" id="entrepreneur" checked name="_entrepreneur" ><label>Entrepreneurs</label>
                                        {% else %}
                                            <input value="0" type="checkbox" id="entrepreneur"  name="_entrepreneur" ><label>Entrepreneurs</label>
                                        {% endif %}

                                    </div>
                                    <div class="inputcontainer">
                                        <label>Permis  :  </label>

                                            <input value="1" type="radio" {% if User.getInfo.getPermis == '1' %} checked {% endif %} name="_Permis"  ><label>oui</label>
                                            <input value="-1" type="radio" {% if User.getInfo.getPermis == '-1' %} checked {% endif %}  name="_Permis" ><label>non</label>
                                            <input value="0" type="radio" {% if User.getInfo.getPermis == '0' %} checked {% endif %}  name="_Permis" ><label>en cours</label>


                                    </div>
                                    <div class="inputcontainer">
                                        <label>Véhicule  :  </label>

                                            <input value="1" {% if User.getInfo.getVehicule == '1'%}checked{% endif %} type="radio" name="_Vehicule" ><label>oui</label>
                                            <input value="0" {% if User.getInfo.getVehicule == '0'%}checked{% endif %} type="radio" name="_Vehicule"  ><label>non</label>

                                    </div>



                                    <div class="inputcontainer">
                                        <label class="list-group-item" style="height: 60px;" for="Facebook">Facebook      :</label>
                                        <input value="{{User.getInfo.getFacebook}}" type="url" class="champ form-control" id="Facebook" name="_Facebook" maxlength="45"  >
                                        <label class="list-group-item" style="height: 60px;" for="Linkedin">Linkedin      : </label>
                                        <input value="{{User.getInfo.getLinkedin}}" type="url" class="champ form-control" id="Linkedin" name="_Linkedin" maxlength="45" >

                                    </div>

                                    <div class="inputcontainer">
                                        <label class="list-group-item" style="height: 60px;" for="Mobilite">Mobilite      :</label>
                                        <select class="List-invisible" width="50px" title="" id="Mobilite"  name="_Mobilite" >
                                            {% if User.getInfo.getMobilite == '10' %}
                                                <option selected="selected" value="10" >moins de 10 min.</option>
                                            {% else %}
                                                <option value="10">moins de 10 min.</option>
                                            {% endif %}
                                            {% if User.getInfo.getMobilite == '30' %}
                                                <option selected="selected" value="30" >moins de 30 min.</option>
                                            {% else %}
                                                <option value="30">moins de 30 min.</option>
                                            {% endif %}
                                            {% if User.getInfo.getMobilite == '60' %}
                                                <option  selected="selected" value="60">moins d' 1h.</option>
                                            {% else %}
                                                <option  value="60">moins d' 1h.</option>
                                            {% endif %}

                                        </select>
                                    </div>
                                    <div class="inputcontainer">
                                        <label class="list-group-item" style="height: 60px;" for="Fratrie">Fratrie       : </label>
                                        <input value="{{User.getInfo.getFratrie}}" type="number" class="champ form-control" id="Fratrie" min="0" name="_Fratrie" maxlength="45" >

                                    </div>

                                    <div class="inputcontainer">

                                        <label class="list-group-item" style="height: 60px;" for="Datenaissance">Hobbies :</label>

                                        {% set i = 0 %}
                                        {% for hobby in User.getHobbies %}
                                            <div id="hobbie{{ i }}" >
                                                <input type="hidden" name="hobbie[{{ i }}]" value="{{ hobby.getId }}" style="margin:10px 5px 10px 0" id="inputHobbie" >
                                                <label class="champ form-control" style="width: 150px;" for="hobbie">{{hobby.getHobbie}}</label>

                                                <img name="modification"  onclick="supprimerHobbie(this.parentNode)" src="{{ asset('image/imgSupprimer.png') }}"/><br>


                                            </div>

                                            {% set i= i +1 %}
                                        {% endfor %}





                                    </div>

                                    <div class="inputcontainer" >
                                        <div id="ajout_hobbie" >
                                            {% if Hobbies is defined %}
                                                <select style=" width:150px;height: 40px" id="Newhobbie"  name="_Hobbie">
                                                    <option value="">--?-- </option>
                                                    {% for hobbie in Hobbies %}
                                                        <option value="{{ hobbie.getId }}">{{ hobbie.getHobbie }}</option>
                                                    {% endfor %}
                                                </select>
                                            {% endif %}
                                            <img  OnClick="ajouterHobbie(this.previousElementSibling)"  src="{{ asset('image/add_x30.png') }}"/><br>
                                        </div>
                                    </div>

                                    <div class="inputcontainer">
                                        <label class="list-group-item" style="height: 60px;" >Langues :</label><br>
                                        {% if Langue is defined %}
                                            {% set i = 0 %}
                                            {% for lang in User.getLangue %}
                                                <div id="langue{{ i }}" >
                                                    <input type="hidden" name="langue[{{ i }}]" value="{{ lang.getId }}" style="margin:10px 5px 10px 0" id="inputLangue" >
                                                    <label class="champ form-control" style="width: 150px;" for="langue">{{lang.getLangue}}</label>
                                                    <label class="champ form-control"  for="Niveau">{{lang.getNiveau}}</label>
                                                    <img name="modification" onclick="supprimerLangue(this.parentNode)" src="{{ asset('image/imgSupprimer.png') }}"/><br>
                                                </div>
                                                {% set i= i +1 %}
                                            {% endfor %}
                                        {% endif %}
                                    </div>

                                    <div class="inputcontainer" >
                                        <div id="ajout_langue" >
                                            <select style=" width:150px;height: 40px" id="NewLangue"  name="_Langue">
                                                <option value="">--?-- </option>
                                                <option value="Francais">Francais </option>
                                                <option value="Anglais">Anglais </option>
                                                <option value="Espagnol">Espagnol </option>
                                                <option value="Arabe">Arabe </option>
                                                <option value="Allemand">Allemand </option>

                                            </select>
                                            <select  style="height: 40px;width:250px;"  id="NewNiveau"  name="_Niveau">
                                                <option value="">--?-- </option>
                                                <option value="connaissance de base">connaissance de base </option>
                                                <option value="bonne connaissance">bonne connaissance</option>
                                                <option value="courant">courant </option>
                                                <option value="langue maternelle">langue maternelle </option>

                                            </select>
                                            <img onclick="ajouterLangue(this.previousElementSibling.previousElementSibling)"  src="{{ asset('image/add_x30.png') }}"/><br>
                                        </div>
                                    </div>
                                {% endif %}
                            </form>
                        </div>
                        <div id="info_parents" class="list-group affichage" style="display:none">

                            {% if Parents is defined %}
                                {% for parent in Parents %}
                                    {% set iddiv = random()  %}
                                    <div class="col-xs-12 Liste">
                                        <div class="row">
                                            <label class="cell">Nom : <label>{{ parent.getNom }}</label></label>
                                            <label class="cell">Prénom : <label>{{parent.getPrenom }}</label>

                                                <img name="modification" style="float:right" alt="" src="{{ asset('image/imgSupprimer.png') }}" onclick="supprimerParent('{{ path('supprimer_Parent',{'id': parent.getId }) }}',this)" />
                                                <button class="button" style="float: right;" type="button" data-toggle="collapse" data-target="#parent{{ iddiv }}"></button></label>
                                        </div>
                                        <div id="parent{{ iddiv }}" class="collapse in" >
                                            <div class="row">
                                                <label class="cell">Telephone : <label>{{ parent.getTelephone }}</label></label>
                                                <label class="cell">Adresse  : <label>{{ parent.getAdresse }}</label></label>
                                            </div>
                                            <div class="row">
                                                <label class="cell">Email : <label>{{ parent.getEmail}}</label></label>
                                                {% if parent.getNomjeunefille  %}
                                                    <label class="cell">Nom jeune fille  : <label>{{ parent.getNomjeunefille }}</label></label>
                                                {% endif %}
                                            </div>

                                        </div>

                                    </div>
                                {% endfor %}
                            {% endif %}
                            <div name="modification" >
                                <button type="button" class="col-xs-12 blue" style="margin-top:40px;"  onclick="show('addparent')">Ajouter un parent</button>
                            </div>

                        </div>

                        <div id="info_Exp" class="list-group affichage" style="display:none">
                            {% if Experience is defined %}
                                {% for Exp in Experience %}
                                    {% set iddiv = random()  %}
                                    <div class="col-xs-12 Liste">
                                        <div class="row">
                                            <label class="cell">Nom societe : <label>{{ Exp.getNomsociete }}</label></label>
                                            <label class="cell">Activite : <label>{{Exp.getActivite }}</label>
                                                <img name="modification" style="float:right" alt="" src="{{ asset('image/imgSupprimer.png') }}" onclick="supprimerExperience('{{ path('supprimer_Experience',{'id':Exp.getId}) }}',this)" />

                                                <button class="button" style="float: right;" type="button" data-toggle="collapse" data-target="#exper{{ iddiv }}"></button>
                                            </label>


                                        </div>
                                        <div id="exper{{ iddiv }}" class="collapse in" >
                                            <div class="row">
                                                <label class="cell">Lieu  : <label>{{ Exp.getLieu }}</label></label>
                                                <label class="cell">Poste  : <label>{{ Exp.getPoste }}</label></label>
                                            </div>
                                            <div class="row">
                                                <label class="cell">Nbreannee : <label>{{ Exp.getNbreannee}}</label></label>
                                                <label class="cell">Description : <label>{{ Exp.getDescription }}</label></label>

                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            {% endif %}

                            <div name="modification" >
                                <button type="button" class="col-xs-12 blue" style="margin-top: 40px" onclick="show('addExperience')" >Ajouter une Expérience</button>
                            </div>

                        </div>
                        <div id="info_recom" class="list-group affichage" style="display:none">
                            {% if Recommandation is defined %}
                                {% for Recom in Recommandation %}
                                    {% set iddiv = random()  %}
                                    <div class="col-xs-12 Liste">
                                        <div class="row">
                                            <label class="cell">Text  : <label>{{ Recom.getText }}</label></label>
                                            <label class="cell">Nom : <label>{{Recom.getNom }}</label>
                                                <img name="modification" style="float:right" alt="" src="{{ asset('image/imgSupprimer.png') }}" onclick="supprimerRecommandation('{{ path('supprimer_Recommandation',{'id':Recom.getId}) }}',this)" />
                                                <button class="button" style="float: right;" type="button" data-toggle="collapse" data-target="#recommandation{{ iddiv }}"></button></label>

                                        </div>
                                        <div id="recommandation{{ iddiv }}" class="collapse in" >
                                            <div class="row">
                                                <label class="cell">Fonction  : <label>{{ Recom.getFonction }}</label></label>
                                                <label class="cell">Email  : <label>{{ Recom.getEmail }}</label></label>
                                            </div>
                                            <div class="row">
                                                <label class="cell">Téléphone : <label>{{ Recom.getTelephone}}</label></label>

                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            {% endif %}
                            <div name="modification" >
                                <button type="button" class="col-xs-12 blue" style="margin-top: 40px" onclick="show('addRecommandation')">Ajouter une Recommandation</button>
                            </div>

                        </div>
                        <div id="info_diplome" class="list-group affichage" style="display:none">
                            {% if Diplome is defined %}
                                {% for Dip in Diplome %}
                                    {% set iddiv = random()  %}
                                    <div class="col-xs-12 Liste">
                                        <div class="row">
                                            <label class="cell">Text  : <label>{{ Dip.getLibelle }}</label></label>
                                            <label class="cell">Obtention : <label>{{Dip.getObtention }}</label>
                                                <img name="modification" style="float:right" alt="" src="{{ asset('image/imgSupprimer.png') }}" onclick="supprimerDiplome('{{ path('supprimer_Diplome',{'id':Dip.getId}) }}',this)" />
                                                <button class="button" style="float: right;" type="button" data-toggle="collapse" data-target="#diplome{{ iddiv }}"></button></label>

                                        </div>
                                        <div id="diplome{{ iddiv }}" class="collapse in" >
                                            <div class="row">
                                                <label class="cell">Ecole  : <label>{{ Dip.getEcole}}</label></label>

                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            {% endif %}

                            <div name="modification" >
                                <button type="button" class="col-xs-12 blue" style="margin-top:40px" onclick="show('addDiplome')">Ajouter un Diplome</button>
                            </div>
                        </div>
                        <div id="info_doc" class="list-group affichage" style="display:none">
                            {% if Document is defined %}
                                {% for Doc in Document %}
                                    {% set iddiv = random()  %}
                                    <div class="col-xs-12 Liste">
                                        <div class="row">
                                            <label class="cell">Type   : <label>{{ Doc.getType }}</label></label>
                                            <label class="cell">Extention : <label>{{Doc.getExtension }}</label>
                                                <img name="modification" style="float:right" alt="" src="{{ asset('image/imgSupprimer.png') }}" onclick="supprimerDocument('{{ path('supprimer_Document',{'id':Doc.getId}) }}',this)" />
                                                <button class="button" style="float: right;" type="button" data-toggle="collapse" data-target="#doc{{ iddiv }}"></button></label>

                                        </div>
                                        <div id="doc{{ iddiv }}" class="collapse in" >
                                            <div class="row">
                                                <label class="cell">Taille  : <label>{{ Doc.getTaille}}</label></label>
                                                <label class="cell">Document  :
                                                    {% if Doc.extension == 'application/pdf' %}
                                                        <a target="_blank" href="{{ path('show_Document',{'id':Doc.id}) }}" >
                                                            <img src="{{ asset('image/PDF.jpg') }}"  style="width:40px; height:40px;" title="{{ Doc.name }}" alt="{{ Doc.name }}" >
                                                        </a>

                                                    {% else %}
                                                        <a target="_blank" href="{{ path('show_Document',{'id':Doc.id}) }}" >
                                                            <img src="{{ asset('image/file.png') }}"  style="width:40px; height:40px;" title="{{ Doc.name }}" alt="{{ Doc.name }}" >
                                                        </a>
                                                    {% endif %}
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            {% endif %}
                            <div name="modification" >
                                <button type="button" class="col-xs-12 blue" style="margin-top:40px" onclick="show('addDocument')">Ajouter un document</button>
                            </div>
                        </div>
                        <div id="info_candidature" class="list-group affichage" style="display:none">
                            {% if candidatures is defined %}
                                {% for candidature in candidatures %}
                                    {% set iddiv = random()  %}
                                    {% if app.user == candidature.user or is_granted('ROLE_SUPER_ADMIN') or app.user.tier == candidature.formation.etablissement.tier or app.user.etablissement == candidature.formation.etablissement %}
                                        <div class="col-xs-12 Liste">
                                            <div class="row">
                                                <label class="cell">Id : <label>{{ candidature.id }}</label></label>

                                                <label class="cell"  >Statut : <label id="lblStatut" name="lblStatut">
                                                        {% if is_granted('ROLE_RECRUTEUR') or is_granted('ROLE_TUTEUR') %}
                                                            {% if candidature.statut == 1 %}
                                                                En attente compléments
                                                            {% elseif candidature.statut == 2 %}
                                                                En attente validation
                                                            {% elseif candidature.statut == 3 %}
                                                                Validé
                                                            {% elseif candidature.statut == 99 %}
                                                                Refusé
                                                            {% endif %}
                                                        {% elseif is_granted('ROLE_APPRENANT') %}
                                                            {% if candidature.statut == 1 %}
                                                                A compléter
                                                            {% elseif candidature.statut == 2 %}
                                                                En attente école
                                                            {% elseif candidature.statut == 3 %}
                                                                Admis
                                                            {% elseif candidature.statut == 99 %}
                                                                Ajourné
                                                            {% endif %}
                                                        {% endif %}
                                                    </label>

                                                    {% if is_granted('ROLE_RECRUTEUR') %}

                                                        {% if candidature.statut == 1 or candidature.statut == 2 %}


                                                            <img name="modification" style="width:25px;"  alt="Refusé"  title="Refusé" onclick="modifierStatut(this,99,'{{ candidature.id }}')" src="{{ asset('image/stop_x18.png') }}">
                                                            <img name="modification"  alt="Validé" title="Validé"  onclick="modifierStatut(this,3,'{{ candidature.id }}')" src="{{ asset('image/imgValide.png') }}">


                                                        {% endif %}

                                                    {% endif %}

                                                    <img name="modification"   style="float:right;" alt="" src="{{ asset('image/imgSupprimer.png') }}" onclick="supprimerFormation('{{ path('supprimer_Candidature',{'id':candidature.getId}) }}',this)" />


                                                    <div class="button" style="float: right;" data-toggle="collapse" data-target="#cand{{ iddiv }}"></div></label>
                                            </div>
                                            <div id="cand{{ iddiv }}" class="collapse in" >
                                                <div class="row">
                                                    <label class="cell">Ecole  : <label>{{ candidature.formation.etablissement.tier.raisonsoc }}</label></label>
                                                    <label class="cell">Adresse : <label>{{ candidature.formation.etablissement.adresse }}</label></label>
                                                </div>
                                                <div class="row">
                                                    <label class="cell">Formation : <label>{{ candidature.formation.nom }}</label></label>
                                                    <label class="cell">Date : <label>{{ candidature.datecandidature|date('d/m/Y') }}</label></label>
                                                </div>

                                            </div>

                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                            <div name="modification" >
                                <button  type="button" class="col-xs-12 blue" style="margin-top:40px" onclick="show('addFormation')">Ajouter une Formation</button>
                            </div>
                        </div>
                        <div id="QCM_Affinite" class="list-group affichage" style="display:none">

                            <div class="col-xs-12">
                                <div class="list-group" style="background: #1B2024; margin: 30px 0 0 30px; padding: 0 0; border-left: 20px solid white; border-right: 20px solid white !important; text-align: left;">


                                    <form class="formulaire" id="formAffinite" action="{{ path('Add_QCM') }}" method="post">
                                        {% set i = 0 %}
                                        {% set reponsegroupe = 0 %}
                                        {% if QCMs is defined %}
                                            {% for QCM in QCMs %}
                                                <div class="inputcontainer" name="21456dddd">
                                                    <label class="list-group-item" style="height: 60px;" for="QCM">Nom du Questionnaire :</label>
                                                    <input type="text" class="champ " id="QCM" name="_Nom" value="{{ QCM.getNom }}" required maxlength="45" readonly><br>
                                                </div>
                                                {% set y = 0 %}
                                                {% for question in Questions[i] %}
                                                    <div class="inputcontainer" name="question">
                                                        <label class="list-group-item" style="height: 60px;" for="Question">Question :</label>
                                                        <input type="text" class="champ " id="Question" name="questions[]" value="{{question.getQuestion  }}" required maxlength="255" readonly>
                                                        {% for reponse in reponses[i][y] %}
                                                            <div>
                                                                {% if reponse in User.reponsedef %}
                                                                    <input type="radio" onclick="envoyerNouvelleReponse({{ reponse.getId }})" name="reponse[{{ reponse.questiondef.id }}]" value="{{ reponse.getId }}" checked><label style="font: 14px Roboto black; ">{{ reponse.getReponse }}</label>
                                                                {% else %}
                                                                    <input type="radio" onclick="envoyerNouvelleReponse({{ reponse.getId }})" name="reponse[{{ reponse.questiondef.id }}]" value="{{ reponse.getId }}" ><label style="font: 14px Roboto black; ">{{ reponse.getReponse }}</label>
                                                                {% endif %}
                                                            </div>
                                                        {% endfor %}
                                                    </div>
                                                    {% set y = y + 1 %}
                                                {% endfor %}
                                                {% set i = i + 1 %}
                                            {% endfor %}
                                        {% endif %}

                                    </form>
                                </div>
                            </div>

                        </div>
                        <div id="QCM_Test" class="list-group affichage" style="display:none">

                            <div class="col-xs-12">
                                <div class="list-group" style="background: #1B2024; margin: 30px 0 0 30px; padding: 0 0; border-left: 20px solid white; border-right: 20px solid white !important; text-align: left;">
                                    <form class="formulaire" id="formTest" action="{{ path('Add_QCM') }}" method="post">
                                        {% set i = 0 %}
                                        {% set reponsegroupe = 0 %}
                                        {% if QCMtest is defined %}
                                            {% for QCM in QCMtest %}

                                                <div class="inputcontainer" name="21456dddd">
                                                    <label class="list-group-item" style="height: 60px;" for="QCM">Nom du Questionnaire :</label>
                                                    <input type="text" class="champ " id="QCM" name="_Nom" value="{{ QCM.getNom }}" required maxlength="45" readonly><br>
                                                </div>
                                                {% set y = 0 %}

                                                {% for questionTest in QuestionsTest[i] %}
                                                    <div class="inputcontainer" name="question">
                                                        <label class="list-group-item" style="height: 60px;" for="Question">Question :</label>
                                                        <input type="text" class="champ " id="Question" name="questions[]" value="{{questionTest.getQuestion  }}" required maxlength="255" readonly>

                                                        {% for reponseTest in reponsesTest[i][y] %}
                                                            <div>
                                                                {% if reponseTest in User.reponsedef %}
                                                                    <input type="radio" onclick="envoyerNouvelleReponse({{ reponseTest.getId }})" name="reponse[{{ reponseTest.questiondef.id }}]" value="{{ reponseTest.getId }}" checked ><label style="font: 14px Roboto black; ">{{ reponseTest.getReponse }}</label>
                                                                {% else %}
                                                                    <input type="radio" onclick="envoyerNouvelleReponse({{ reponseTest.getId }})" name="reponse[{{ reponseTest.questiondef.id }}]" value="{{ reponseTest.getId }}" ><label style="font: 14px Roboto black; ">{{ reponseTest.getReponse }}</label>
                                                                {% endif %}
                                                            </div>
                                                        {% endfor %}

                                                    </div>
                                                    {% set y = y + 1 %}
                                                {% endfor %}

                                                {% set i = i + 1 %}
                                            {% endfor %}
                                        {% endif %}

                                    </form>
                                </div>
                            </div>

                        </div>
                    {% endif %}
                </div>
            </div>

            <div class="col-xs-3"
                 style="height: 100%;">
                <div class="list-group"
                     style="margin: 15px 0 0 15px;height: 100%; background-color: white;">
                    {% if not User.isExpired and not User.hasRole('ROLE_APPRENANT') %}
                        <button onclick="expire('{{ path('expired',{'id':User.getId}) }}')" id="expired" type="button" class="list-group-item rightMenu" style="background-color: #94C400">
                            <div class="col-xs-12" style="display: inline-table;color: white;height: 46px;margin-top:10px;">Activer</div>
                        </button>
                    {% elseif not User.hasRole('ROLE_APPRENANT') %}
                        <button onclick="expire('{{ path('expired',{'id':User.getId}) }}')" id="expired" type="button" class="list-group-item rightMenu" style="background-color: red">
                            <div class="col-xs-12" style="display: inline-table;color: white;height: 46px;margin-top:10px;">Désactiver</div>
                        </button>
                    {% endif %}
                    <button onclick="document.getElementById('formUserSubmit').click()" type="button" class="list-group-item rightMenu" >
                        <div class="col-xs-12"  >Valider</div>

                    </button>

                    {% if is_granted('ROLE_ADMINSOC') or is_granted('ROLE_ADMINECOLE') %}
                        <button onclick="if(confirm('Voulez-vous Supprimer cet utilisateur ?')){post('{{ path('supprimerUtilisateur',{'id': User.getId }) }}',true)}" type="button" class="list-group-item rightMenu" >
                            <div class="col-xs-12" >Supprimer l'utilisateur</div>

                        </button>
                        {% if User.hasRole('ROLE_APPRENANT') %}
                            <button  onclick="CompleterProfil();"  type="button" class="list-group-item rightMenu" >
                                <div class="col-xs-12" >Ordre enrichit par étudiant</div>
                            </button>
                            <div class="col-xs-12 btn-group">
                                <button id="STATUT_APPRENANT" type="button" class="col-xs-12 rightMenu dropdown-toggle" style="{% if User.info and User.info.profilcomplet == 3 %}background: #94C400;
                                        {% elseif User.info and User.info.profilcomplet == 2 %}background: red;{% elseif User.info and User.info.profilcomplet == 1 %}background: #2A76CC;
                                        {% else %}background: orangered;{% endif %}color: #0f0f0f;"
                                        data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="false">Statut en cours</button>
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                    <li><button onclick="ChangerStatut(2)" style="background: transparent;border:none;width:100%">Refuser</button></li>
                                    <li><button onclick="ChangerStatut(3)" style="background: transparent;border:none;width:100%">Accepter</button></li>
                                </ul>
                            </div>


                            <button type="button" class="list-group-item rightMenu">
                                <div class="col-xs-12">Historique</div>
                            </button>
                        {% endif %}
                    {% endif %}
                </div>
            </div>

        </div>
    {% endblock %}
</div>
<script src="{{ asset('js/jquery-1.11.3.js') }}"></script>
<script src="{{ asset('js/bootstrap.min.js') }}"></script>
<script src="{{ asset('js/PopUp.js') }}"></script>
<script language="JavaScript">
    $('#document').bind('change', function() {
        document.getElementById('submitaddDocument').disabled = (this.files[0].size > 1000000);
    });
    function expire(route) {
        $.ajax({
            type: 'get',
            url: route,
            error: function (response) {
                console.log(response);
            },
            success: function (data) {
                if (data['succes'] == '0') {
                    document.getElementById("expired").style.backgroundColor = '#94C400';
                    document.getElementById("expired").firstElementChild.innerHTML = 'Activer';
                    window.parent.document.getElementById('active{{ User.getId }}').style.backgroundColor = '#94C400';
                }
                else {
                    document.getElementById("expired").style.backgroundColor = 'red';
                    document.getElementById("expired").firstElementChild.innerHTML = 'Désactiver';
                    window.parent.document.getElementById('active{{ User.getId }}').style.backgroundColor = 'red';
                }

            }
        });

    }
    function post(path,refresh) {
        if(refresh)
        {
            $.ajax({
                type: 'post',
                url: path,
                error: function () {
                    alert('Une erreur s\'est produite');
                },
                success: function () {
                    window.parent.location.reload();
                }
            });
        }
        else
        {
            window.location = path;
        }
    }
    function loading(){
        var onglet = sessionStorage.getItem('onglet_tier');
        if(onglet)
        {
            document.getElementById(onglet).click();
        }
    }
    function readURL(input,baliseimg) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#'+ baliseimg)
                        .attr('src', e.target.result)
            };

            reader.readAsDataURL(input.files[0]);
        }
    };
    {% if User.hasRole('ROLE_APPRENANT') %}
    function modifierStatut(div,value,idcand){

        var route = '{{path('modifierStatut',{'id':"_idCandidature",'statut':"_value",'mail':"_mail",'formation':"_formation"})}}';
        route=route.replace('_idCandidature',idcand);
        route=route.replace('_value',value);

        $.ajax({
            type: 'get',
            url: route,
            success: function() {
                if(value === 3)
                {
                    div.parentNode.getElementsByTagName('label')[0].innerHTML = 'Validé';
                    for(var i = 0; i < div.parentNode.getElementsByTagName('img').length - 1;i++)
                    {
                        div.parentNode.getElementsByTagName('img')[i].style.display = 'none';
                    }
                }
                if(value === 99)
                {
                    div.parentNode.getElementsByTagName('label')[0].innerHTML = 'Refusé';
                    for(var i = 0; i < div.parentNode.getElementsByTagName('img').length - 1;i++)
                    {
                        div.parentNode.getElementsByTagName('img')[i].style.display = 'none';
                    }
                }
            }
        });
    }
    function CompleterProfil(){
        var id = document.getElementById('id').value;
        var route= '{{ path('CompleterProfil',{'IdUser':'_idUser'}) }}';
        route=route.replace('_idUser',id);

        $.ajax({
            type: 'get',
            url: route,
            error: function (response) {
                console.log(response);
            },
            success: function(data){alert('le message a été envoyé.')}
        });

    }
    function rechercheformation(mot) {
        var mots = mot.toUpperCase().trim().split(/ +/g);
        var select = document.getElementById('SelectMultipleFormation');
        select.innerHTML = '';
        var recherche = document.getElementById('SelectMultipleRechercheFormation');
        for(var i = 0; i < recherche.childElementCount; i++)
        {
            for(var j = 0; j< mots.length;j++)
            {
                if (stringWith(recherche.options[i].innerHTML, mots[j])) {
                    var option = document.createElement('option');
                    var RecherchesMots = recherche.options[i].innerHTML.trim().split(';');
                    option.value = RecherchesMots[0];
                    option.innerHTML = RecherchesMots[1] + ' - ' + RecherchesMots[2] + ' - ' + RecherchesMots[3];
                    select.appendChild(option);
                    break;
                }
            }
        }
    }
    function ChangerStatut(statut){
        var path = '{{ path('ChangerStatutApprenant',{'idUser':User.id,'statut':'STATUT'}) }}';
        path = path.replace('STATUT',statut);
        $.ajax({
            type: 'post',
            url: path,
            error: function () {
                alert('Une erreur s\'est produite');
            },
            success: function (data) {
                if(data == 1 && statut == 2){
                    document.getElementById('STATUT_APPRENANT').style.backgroundColor = "red";
                    window.parent.document.getElementById('activeUser{{ User.id }}').style.backgroundColor = "red";
                }
                else if(data == 1 && statut == 3){
                    document.getElementById('STATUT_APPRENANT').style.backgroundColor = "#94C400";
                    window.parent.document.getElementById('activeUser{{ User.id }}').style.backgroundColor = "#94C400";
                }
            }
        });
    }

    function supprimerLangue(div){

        var route = '{{path('supprimer_Langue',{'id':"_idLangue",'IdUser':"_IdUser"})}}';
        var input = div.getElementsByTagName("input")[0];
        div.parentNode.removeChild(div);
        route=route.replace('_idLangue',input.value);
        route=route.replace('_IdUser','{{ User.id}}');
        $.ajax({
            type: 'get',
            url: route,
            success: function(data) {
                console.log(data);
            },
            error: function(data) {
                console.log(data);
            }
        });



    }
    function supprimerHobbie(div){

        var route = '{{path('supprimer_Hobbie',{'id':"_idHobbie",'IdUser':"_IdUser"})}}';
        var input = div.getElementsByTagName("input")[0];
        div.parentNode.removeChild(div);
        route=route.replace('_idHobbie',input.value);
        route=route.replace('_IdUser','{{ User.id}}');
        $.ajax({
            type: 'get',
            url: route,
            success: function(data) {
                console.log(data);
            },
            error: function(data) {
                console.log(data);
            }
        });



    }
    function supprimerParent(route, champs) {
        $.ajax({
            type: 'get',
            url: route,
            error: function (response) {
                console.log(response);
            },
            success: function(data){console.log(data);}
        });
        champs.parentNode.parentNode.parentNode.parentNode.removeChild(champs.parentNode.parentNode.parentNode);
    }
    function supprimerExperience(route, champs) {
        $.ajax({
            type: 'get',
            url: route,
            error: function (reponse) {
                console.log(reponse);
            },
            success:function(data){console.log(data);}
        });
        champs.parentNode.parentNode.parentNode.parentNode.removeChild(champs.parentNode.parentNode.parentNode);
    }
    function supprimerRecommandation(route, champs){
        $.ajax({
            type: 'get',
            url: route,
            error: function (response) {
                console.log(response);
            },
            success: function(data){console.log(data);}
        });
        champs.parentNode.parentNode.parentNode.parentNode.removeChild(champs.parentNode.parentNode.parentNode);

    }
    function supprimerDiplome(route, champs){
        $.ajax({
            type: 'get',
            url: route,
            error: function (response) {
                console.log(response);
            },
            success: function(data){console.log(data);}
        });
        champs.parentNode.parentNode.parentNode.parentNode.removeChild(champs.parentNode.parentNode.parentNode);

    }
    function supprimerFormation(route, champs){
        $.ajax({
            type: 'get',
            url: route,
            error: function (response) {
                console.log(response);
            },
            success: function(data){console.log(data);}
        });
        champs.parentNode.parentNode.parentNode.parentNode.removeChild(champs.parentNode.parentNode.parentNode);

    }
    function supprimerDocument(route, champs){
        $.ajax({
            type: 'get',
            url: route,
            error: function (response) {
                console.log(response);
            },
            success: function(data){console.log(data);}
        });
        champs.parentNode.parentNode.parentNode.parentNode.removeChild(champs.parentNode.parentNode.parentNode);

    }
    function ajouterHobbie(me){

        var dup = document.getElementById('Hobby');
        var clone = dup.cloneNode(true);

        var route = '{{path('ajouter_Hobbie',{'id':"_idHobbie",'IdUser':"_IdUser"})}}';
        var select = document.getElementById("Newhobbie");
        var choice = select.selectedIndex  // Récupération de l'index du <option> choisi
        var idhobbie = select.options[choice].value; // Récupération du texte du <option> d'index "choice"

        if(me.value.trim() =='')
        {
            alert('choisissez une hobbie');
            me.value='';
            return;
        }


        route=route.replace('_idHobbie',idhobbie);
        route=route.replace('_IdUser','{{ User.id}}');
        $.ajax({
            type: 'get',
            url: route,
            success: function(data) {
                //me.parentNode.getAttribute('id')
                clone.style.display = 'block';
                clone.getElementsByTagName("label")[0].innerHTML = select.options[choice].innerHTML;
                clone.getElementsByTagName("input")[0].setAttribute("name","hobbie"+me.parentNode.parentNode.getAttribute('id'));
                clone.getElementsByTagName("input")[0].value = me.value.trim();

                // me.parentNode.parentNode.parentNode.previousSibling.appendChild(clone);

                me.parentNode.parentNode.previousElementSibling.appendChild(clone);

            }
        });


    }
    function ajouterLangue(me){

        var dup = document.getElementById('DivNewLangue');
        var clone = dup.cloneNode(true);

        var route = '{{path('ajouter_Langue',{'id':"_idLangue",'IdNiveau':"_idNiveau",'IdUser': User.id})}}';
        var select = document.getElementById("NewLangue");
        var choice = select.selectedIndex;  // Récupération de l'index du <option> choisi
        var idLangue = select.options[choice].value.trim(); // Récupération du texte du <option> d'index "choice"

        var select2 = document.getElementById("NewNiveau");
        var choice2 = select2.selectedIndex;  // Récupération de l'index du <option> choisi
        var idNiveau = select2.options[choice2].value.trim(); // Récupération du texte du <option> d'index "choice"

        if(me.value.trim() =='')
        {
            alert('choisissez une langue');
            me.value='';
            return;
        }

        if(me.nextElementSibling.value.trim() =='')
        {
            alert('choisissez une niveau');
            me.value='';
            return;
        }

        route=route.replace('_idLangue',idLangue);
        route=route.replace('_idNiveau',idNiveau);
        $.ajax({
            type: 'get',
            url: route,
            success: function(data) {
                if(data['success']==1)
                {
                    //me.parentNode.getAttribute('id')
                    clone.style.display = 'block';

                    clone.getElementsByTagName("label")[0].innerHTML = select.options[choice].innerHTML;
                    clone.getElementsByTagName("input")[0].setAttribute("name","langue"+me.parentNode.parentNode.getAttribute('id'));
                    clone.getElementsByTagName("input")[0].value = me.value.trim();
                    clone.getElementsByTagName("label")[1].innerHTML = select2.options[choice2].innerHTML;
                    clone.getElementsByTagName("input")[1].setAttribute("name","niveau["+me.parentNode.parentNode.getAttribute('id')+"][]");
                    clone.getElementsByTagName("input")[1].value = me.nextElementSibling.value.trim();

                    me.parentNode.parentNode.previousElementSibling.appendChild(clone);
                }
                else if(data['success']==0)
                {
                    alert('Cette langue est déjà présente');
                }

            }
        });


    }
    function showFermer(){
        document.getElementById('addExperience').style.display="none";
        document.getElementById('addparent').style.display="none";
        document.getElementById('addRecommandation').style.display="none";
        document.getElementById('addDiplome').style.display="none";
        document.getElementById('addDocument').style.display="none";
        document.getElementById('addFormation').style.display="none";
    }
    function envoyerNouvelleReponse(idrep) {
        var route = '{{ path('reponseQCM',{'iduser':User.id,'idreponse':'_IDREP'}) }}';
        route = route.replace('_IDREP',idrep);
        $.ajax({
            type: 'get',
            url: route
        });
    }
    {% endif %}
</script>
</body>
</html>